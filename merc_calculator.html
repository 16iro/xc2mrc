<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>제노블2 용병단 시간 계산기</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #222; color: #eee; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { background-color: #333; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); width: 320px; }
        h2 { margin-top: 0; text-align: center; color: #4db8ff; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #bbb; }
        input { width: 100%; padding: 10px; border: 1px solid #555; border-radius: 6px; background-color: #444; color: white; font-size: 16px; box-sizing: border-box; }
        input:focus { outline: none; border-color: #4db8ff; }
        .result-box { margin-top: 20px; padding: 15px; background-color: #2a2a2a; border-radius: 8px; text-align: center; border: 1px solid #444; }
        .result-time { font-size: 2em; font-weight: bold; color: #00e676; margin: 10px 0; }
        .details { font-size: 0.9em; color: #aaa; }
        button { width: 100%; padding: 12px; background-color: #4db8ff; border: none; border-radius: 6px; color: #222; font-weight: bold; font-size: 16px; cursor: pointer; margin-top: 10px; }
        button:hover { background-color: #3aa8ef; }
    </style>
</head>
<body>

<div class="container">
    <h2>⏱️ 용병단 시간 계산</h2>
    
    <div class="input-group">
        <label for="baseTime">기본 소요 시간 (분)</label>
        <input type="number" id="baseTime" placeholder="예: 30" value="30">
    </div>
    
    <div class="input-group">
        <label for="level">추천 스킬 레벨 합계</label>
        <input type="number" id="level" placeholder="예: 13" value="13">
    </div>

    <button onclick="calculate()">계산하기</button>

    <div class="result-box">
        <div>최종 소요 시간</div>
        <div class="result-time" id="finalTime">-- 분</div>
        <div class="details" id="debugInfo">계산 대기 중...</div>
    </div>
</div>

<script>
    function calculate() {
        const baseTime = parseInt(document.getElementById('baseTime').value) || 0;
        const level = parseInt(document.getElementById('level').value) || 0;

        // 1. 스킬에 의한 단축 (올림 처리)
        // 공식: ceil(Time * Level * 0.06)
        const skillReduction = Math.ceil(baseTime * level * 0.06);

        // 2. 최대 단축 한계 (남은 시간 소수점 버림 처리)
        // 공식: Time - floor(Time * 0.25)
        const minRemainingTime = Math.floor(baseTime * 0.25);
        const maxLimitReduction = baseTime - minRemainingTime;

        // 3. 실제 적용 단축 시간 (둘 중 작은 값)
        const actualReduction = Math.min(skillReduction, maxLimitReduction);
        
        // 4. 최종 시간
        const finalTime = baseTime - actualReduction;

        // 결과 출력
        document.getElementById('finalTime').innerText = finalTime + " 분";
        
        // 디버그 정보 (검증용)
        let details = `기본 ${baseTime}분 → ${actualReduction}분 단축됨<br>`;
        if (skillReduction > maxLimitReduction) {
            details += `<span style='color:#ff5555'>(최대 단축 한계 도달!)</span>`;
        } else {
            details += `(스킬 효율 적용 중)`;
        }
        document.getElementById('debugInfo').innerHTML = details;
    }

    // 엔터키 입력 시 자동 계산
    document.addEventListener('keydown', function(event) {
        if (event.key === "Enter") calculate();
    });
</script>

</body>
</html>
